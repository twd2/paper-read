# Linux kernel vulnerabilities: State-of-the-art defenses and open problems

## 论文内容

论文首先指出，操作系统内核是可信计算基的组成部分。并且，论文提到，内核中的漏洞会导致严重的问题，包括内核保护绕过和root权限获取。然而，论文指出，目前已经有很多研究尝试减少内核中的漏洞，但内核漏洞及其利用仍然在Linux（一个常见的操作系统内核）中出现。本文通过分析和分类已被发现的Linux的漏洞，来发现目前研究的关注点。同时，本文还研究了防御手段和一些（未解决的）开放问题。此外，论文提到，Arnold等人指出，每一个内核的bug都应当被认为是安全关键的，并且应当尽快修复。Mokhov等人研究了内核开发者如何修复已被发现的漏洞。

本文的研究和发现主要有如下几点：

1. 以Linux内核中的漏洞为例子，论文研究了内核开发者编程时出现的错误以及这些错误对安全的影响。
2. 论文研究了已经提出的用于缓解内核漏洞的方法的有效性，这些方法包括代码完整性检查、软件错误隔离和用户态驱动程序等。
3. 论文发现，暂无单一方法可以阻止所有的内核漏洞；并且，用于缓解某个漏洞的特定利用方法的方法并不能缓解其他利用漏洞的方法。
4. 论文发现，某类漏洞根本没有得到解决，例如语义漏洞无法用state-of-the-art的技术来发现，因为这类技术目前主要关注于内存安全和代码完整性。

### Linux内核漏洞

首先，论文列举了漏洞的可能的利用方式，包括内存损坏、策略违例、拒绝服务以及信息泄露等。

然后，论文详细介绍了Linux内核中的漏洞，漏洞主要分为如下几种，论文统计了它们出现的次数，以及可能的利用方法的次数。

#### 缺少指针检查

内核没有检查来自用户的指针或数组下标是否真正指向用户有访问权的区域。此类漏洞可能导致任意地址内存读写，进而导致内存损坏、信息泄露、拒绝服务或权限提升等攻击。

#### 缺少权限检查

内核在执行特权操作时，没有检查调用进程的权限。此类漏洞可能导致任意代码执行或权限提升等攻击。

#### 缓冲区溢出

内核访问缓冲区时，错误地检查了边界；错误地分配了较小的缓冲区；使用了不安全的字符串处理函数；局部变量大小超过了栈大小。此类漏洞可能导致内存损坏、信息泄露或权限提升等攻击。

#### 整型溢出

内核进行了错误的整数操作，导致出现上溢、下溢或者符号错。此类漏洞可能间接导致缓冲区溢出漏洞类似的那些攻击。

#### 未初始化的数据

内核在复制缓冲区内容到用户空间时，没有对缓冲区中未使用的部分进行清零操作，从而将部分数据泄漏到用户空间。此类漏洞可能泄漏内核中的密钥或者内核的随机性。

#### 错误的内存管理

包括内存泄漏、double-free漏洞以及use-after-free等。此类漏洞可能导致拒绝服务。

#### 杂项

内核中的其他漏洞。

### State-of-the-Art预防措施



### 开放问题



## 创新点、亮点或其他印象较深的部分

论文提到，每一个内核的bug都应当被认为是安全关键的，并且应当尽快修复。

论文发现，暂无单一方法可以阻止所有的内核漏洞；并且，用于缓解某个漏洞的特定利用方法的方法并不能缓解其他利用漏洞的方法。

论文提到了语义漏洞，这类漏洞在之前听说得较少。

## 反思与讨论

论文提到，Arnold等人指出，每一个内核的bug都应当被认为是安全关键的，这一点十分有趣且引人深思，需要进一步阅读文献[3]来学习。

论文发现，暂无单一方法可以阻止所有的内核漏洞，这一点容易理解。但论文指出，用于缓解某个漏洞的特定利用方法的方法并不能缓解其他利用漏洞的方法，这一点需要进一步思考，为什么会这样。

关于”未初始化的数据“漏洞，此前在QQ群聊天时了解到，内核中对于结构体的赋值，大多使用memcpy或赋值操作符（可能也会被编译器编译为memcpy），由此，结构体中未被使用且未被初始化的paddings会被直接复制，很可能导致数据泄漏。网友表示此类缺陷在内核中时有发生。需要查找相关文献来进一步确认和了解。

论文提到了语义漏洞，而这类漏洞我在之前接触的远比其他漏洞少，需要进一步深入学习。

此外，论文中多次使用“is based on our understanding of the techniques”，可以看出作者十分严谨，值得学习。

## 扩展阅读

[3]

语义漏洞的资料



## 结束语

总之，论文以Linux内核中的漏洞为例子，研究并阐述了内核开发者编程时出现的错误以及这些错误对安全的影响；此外，论文研究并阐述了已经提出的用于缓解内核漏洞的方法的有效性，以及